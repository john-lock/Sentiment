<html>

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <title>Sentiment Analysis</title>
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h2 class="display-4">Sentiment Analyser</h2>
            <form action="{{ url_for('scrape') }}" method="POST">
                <input type="text" placeholder="Enter URL to analyse" name="urlInput">
                <button type="submit" class="btn btn-primary">Analyse</button>
            </form>
            <p> Enter a URL and you will be provided with a score of the overall postivity and negativity of the sentences detected on the page. </p>
            <br>
            {% if url %} Analysis of: <a href="{{ url }}">{{ url }}</a> {% endif %} {% if count_total %}
            <hr class="my-2">
            <div class="progress">
                <div class="progress-bar bg-success" style="width:{{ count_pos_perc }}%">
                    Positive - {{ count_pos_perc }}%
                </div>
                <div class="progress-bar bg-danger" style="width:{{ count_neg_perc }}%"> Negative - {{ count_neg_perc }}%
                </div>
            </div>
            <br> <b>Total:</b> {{ count_total }}
            <b># of positive:</b> {{ count_pos_comp }}
            <b># of negative:</b> {{ count_neg_comp }}
            <br>
            <br> Pre pos: {{ pre_pos_text }}
            <br> <b>Most positive:</b> {{ most_pos }}
            <br> Post pos: {{ post_pos_text }}
            <br>Score:{{ most_pos_score }}
            <br>
            <br> Pre neg: {{ pre_neg_text }}
            <br> <b>Most negative:</b> {{ most_neg }}
            <br> Post neg: {{ post_neg_text }}
            <br>Score: {{ most_neg_score }}
            {% endif %}
            <br> {% if errors %}
            <div class="alert alert-warning" role="alert">
                {{ errors }}
            </div> {% endif %}
        </div>
        View on Github <a href="https://github.com/john-lock/sentiment"><img src="static/images/github.png"></a>
    </div>
</body>

</html>